{"version":3,"sources":["../../../src/routes/__tests__/conventions.test.js"],"sourcesContent":["import router from \"../conventions\";\n\nconst request = require(\"supertest\");\nconst Koa = require(\"koa\");\n\nconst app = new Koa();\napp.use(router.routes());\n\nit(\"returns the agreement document from idcc 843\", async () => {\n  const response = await request(app.callback()).get(\n    \"/api/v1/conventions/843-boulangerie-patisserie-entreprises-artisanales\"\n  );\n  expect(response.status).toBe(200);\n  expect(response.body).toMatchSnapshot();\n});\n\ntest(\"returns 404 when slug match no agreement\", async () => {\n  const response = await request(app.callback()).get(\n    `/api/v1/conventions/slug`\n  );\n  expect(response.status).toBe(404);\n});\n"],"names":["router","request","require","Koa","app","use","routes","it","response","callback","get","expect","status","toBe","body","toMatchSnapshot","test"],"mappings":"AAAA,OAAOA,YAAY,iBAAiB;AAEpC,MAAMC,UAAUC,QAAQ;AACxB,MAAMC,MAAMD,QAAQ;AAEpB,MAAME,MAAM,IAAID;AAChBC,IAAIC,GAAG,CAACL,OAAOM,MAAM;AAErBC,GAAG,gDAAgD,UAAY;IAC7D,MAAMC,WAAW,MAAMP,QAAQG,IAAIK,QAAQ,IAAIC,GAAG,CAChD;IAEFC,OAAOH,SAASI,MAAM,EAAEC,IAAI,CAAC;IAC7BF,OAAOH,SAASM,IAAI,EAAEC,eAAe;AACvC;AAEAC,KAAK,4CAA4C,UAAY;IAC3D,MAAMR,WAAW,MAAMP,QAAQG,IAAIK,QAAQ,IAAIC,GAAG,CAChD,CAAC,wBAAwB,CAAC;IAE5BC,OAAOH,SAASI,MAAM,EAAEC,IAAI,CAAC;AAC/B"}