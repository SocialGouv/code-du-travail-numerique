{"version":3,"sources":["../../../src/routes/__tests__/sheets-mt.test.js"],"sourcesContent":["import router from \"../sheets-mt\";\n\nconst request = require(\"supertest\");\nconst Koa = require(\"koa\");\n\nrequire(\"./__mocking__/mockNLP\");\n\njest.mock(\"@socialgouv/cdtn-elasticsearch\");\n\nconst app = new Koa();\napp.use(router.routes());\n\ntest(\"return content data for slug 5-questions-reponses-sur-la-sante-au-travail\", async () => {\n  const response = await request(app.callback()).get(\n    `/api/v1/sheets-mt/5-questions-reponses-sur-la-sante-au-travail`\n  );\n  expect(response.status).toBe(200);\n  expect(response.body).toMatchSnapshot();\n});\n\ntest(\"returns 404 when slug match no themes\", async () => {\n  const response = await request(app.callback()).get(\n    `/api/sheets-mt/no-pasa-nada`\n  );\n  expect(response.status).toBe(404);\n});\n"],"names":["router","request","require","Koa","jest","mock","app","use","routes","test","response","callback","get","expect","status","toBe","body","toMatchSnapshot"],"mappings":"AAAA,OAAOA,YAAY,eAAe;AAElC,MAAMC,UAAUC,QAAQ;AACxB,MAAMC,MAAMD,QAAQ;AAEpBA,QAAQ;AAERE,KAAKC,IAAI,CAAC;AAEV,MAAMC,MAAM,IAAIH;AAChBG,IAAIC,GAAG,CAACP,OAAOQ,MAAM;AAErBC,KAAK,6EAA6E,UAAY;IAC5F,MAAMC,WAAW,MAAMT,QAAQK,IAAIK,QAAQ,IAAIC,GAAG,CAChD,CAAC,8DAA8D,CAAC;IAElEC,OAAOH,SAASI,MAAM,EAAEC,IAAI,CAAC;IAC7BF,OAAOH,SAASM,IAAI,EAAEC,eAAe;AACvC;AAEAR,KAAK,yCAAyC,UAAY;IACxD,MAAMC,WAAW,MAAMT,QAAQK,IAAIK,QAAQ,IAAIC,GAAG,CAChD,CAAC,2BAA2B,CAAC;IAE/BC,OAAOH,SAASI,MAAM,EAAEC,IAAI,CAAC;AAC/B"}