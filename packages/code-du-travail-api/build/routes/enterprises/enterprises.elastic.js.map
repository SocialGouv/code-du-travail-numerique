{"version":3,"sources":["../../../src/routes/enterprises/enterprises.elastic.ts"],"sourcesContent":["import { SOURCES } from \"@socialgouv/cdtn-sources\";\n\nexport type SearchAgreementsBody = {\n  _source: string[];\n  from: number;\n  query: unknown;\n  size: number;\n};\n\nconst getAgreements = (idccList: number[]): SearchAgreementsBody => {\n  return {\n    _source: [\"id\", \"title\", \"shortTitle\", \"num\", \"slug\", \"highlight\", \"url\"],\n    from: 0,\n    query: {\n      bool: {\n        filter: [\n          { terms: { num: idccList } },\n          { term: { source: SOURCES.CCN } },\n          { term: { isPublished: true } },\n        ],\n      },\n    },\n    size: idccList.length,\n  };\n};\n\nexport default getAgreements;\n"],"names":["SOURCES","getAgreements","idccList","_source","from","query","bool","filter","terms","num","term","source","CCN","isPublished","size","length"],"mappings":"AAAA,SAASA,OAAO,QAAQ,2BAA2B;AASnD,MAAMC,gBAAgB,CAACC,WAA6C;IAClE,OAAO;QACLC,SAAS;YAAC;YAAM;YAAS;YAAc;YAAO;YAAQ;YAAa;SAAM;QACzEC,MAAM;QACNC,OAAO;YACLC,MAAM;gBACJC,QAAQ;oBACN;wBAAEC,OAAO;4BAAEC,KAAKP;wBAAS;oBAAE;oBAC3B;wBAAEQ,MAAM;4BAAEC,QAAQX,QAAQY,GAAG;wBAAC;oBAAE;oBAChC;wBAAEF,MAAM;4BAAEG,aAAa,IAAI;wBAAC;oBAAE;iBAC/B;YACH;QACF;QACAC,MAAMZ,SAASa,MAAM;IACvB;AACF;AAEA,eAAed,cAAc"}